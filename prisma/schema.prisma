// This is your Prisma schema file for HR Management System
// learn more about it in the docs: https://pris.ly/d/prisma-schema

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}
generator client {
  provider = "prisma-client-js"
}

model employees {
  id          String   @id @default(uuid()) @db.Uuid
  full_name   String   @db.VarChar(100)
  email       String   @unique @db.VarChar(255)
  department  String   @db.VarChar(100)
  empId       String   @unique @db.VarChar(50) @map("empid")
  created_at  DateTime @default(now())
  updated_at  DateTime @updatedAt
  attendance  attendance[]
}

model attendance {
  id          String   @id @default(uuid()) @db.Uuid
  empId       String   @unique @db.VarChar(50) @map("empid")
  employee    employees @relation(fields: [empId], references: [empId], onDelete: Cascade)
  date        DateTime @default(now()) @db.Date
  status      String   @db.VarChar(50)
  created_at  DateTime @default(now())
  updated_at  DateTime @updatedAt

  @@index([empId])
  @@index([date])
}
